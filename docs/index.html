<html>
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/gh/alpine-collective/alpine-magic-helpers@0.5.x/dist/index.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/2.8.0/alpine.js"></script>
    </head>
    <body>
        <script>
            function repo(suffix) {
                return 'https://github.com/markfirmware/alpinejs-' + suffix;
            }
            function gitpod(repo) {
                return 'https://gitpod.io#' + repo;
            }
            function submitCodepen() {
                fetch("https://codepen.io/pen/define", {
                    body: JSON.stringify({ html: '<div>abc</div>' }),
                    headers: {
                        'Content-Type': 'application/json',
                        Authorization: ('token ' + this.auth_token),
                        Accept: 'application'
                    },
                    method: 'POST',
                    target: '_blank'
                })
                    .then((r) => r.json())
                    .then((j) => {
                        console.log(j);
                    })
            }
        </script>
        <div>
            <a class="underline" href="https://github.com/markfirmware/alpinejs-four/blob/23f26f8614e8d54c9913fd736206461385725b61/docs/index.html#L17-L32">
                (This is the codepen POST code that is giving a CORS error)
            </a>
        </div>
        <div>
            <a class="underline" href="https://github.com/markfirmware/alpinejs-four">
                (This is markfirmware/alpinejs-four - the list of alpinejs site repos)
            </a>
        </div>
        <div>
            This is a list of alpinejs-implemented site repositories.
        </div>
        <div>
            It is hand-made but will later be created by searching and analyzing gh repos.
        </div>
        <div x-data="{ suffixes: ['one', 'two', 'three', 'four'] }">
            <ul>
                <template x-for="suffix in suffixes" :key="suffix">
                    <li>
                        <button
                            class="border bg-gray-200 hover:bg-gray-300 border-gray-400"
                            @click="submitCodepen()">
                            codepen
                        </button>
                        <a :href="repo(suffix)" x-text="repo(suffix)" class="underline">
                        </a>
                    </li>
                </template>
            </ul>
        </div>
    </body>
</html>
